#!/usr/bin/env perl

use strict;
use warnings;

#use Data::Dump qw(ddx);

my $minQual = 20;
my $minDepth = 50;

my @SNPids = qw[
rs10169459 rs1042602 rs10500915 rs10756250 rs10756819 rs10991211 rs11076452 rs1110400 rs1126809 rs1129038 rs11547464 rs1159311 rs11636232 rs11636311 rs11637235 rs11659227 rs12203592 rs1241304 rs12441727 rs12593929 rs12638242 rs1279403 rs12821256 rs12896399 rs12913832 rs13090964 rs1325127 rs13279486 rs1377902 rs1393350 rs1426654 rs1470608 rs1545397 rs1667394 rs16891982 rs17128291 rs17184180 rs17684347 rs1800407 rs1800414 rs1805005 rs1805006 rs1805007 rs1805008 rs1805009 rs1834640 rs1861718 rs1876456 rs200162 rs201326893 rs2022858 rs2031420 rs2048961 rs2057041 rs2060337 rs2070959 rs2182629 rs2216802 rs2228479 rs2238289 rs2250072 rs2310738 rs2378249 rs2386626 rs2402130 rs2413887 rs2423560 rs2470102 rs2567608 rs2675345 rs2813838 rs2826121 rs2829433 rs2835630 rs28777 rs2934193 rs295886 rs2963129 rs308685 rs3114908 rs3212355 rs35200965 rs35637306 rs3768056 rs387543 rs3935591 rs4073212 rs412467 rs41446051 rs438187 rs4425603 rs4620756 rs4762175 rs4833043 rs4881174 rs4926703 rs4959270 rs4974428 rs576261 rs5769852 rs58979150 rs6059655 rs6063600 rs6119471 rs6455989 rs6497292 rs6499091 rs668316 rs683 rs6874062 rs6954149 rs7157971 rs717769 rs72671448 rs72833466 rs72917317 rs7405453 rs7495174 rs7928133 rs796296176 rs7995018 rs8027868 rs8037968 rs80293268 rs8051733 rs8070506 rs8105430 rs885479 rs897756 rs916977 rs9347258 rs9541254 rs9599272 rs9635999 rs968975 rs9894429 rs9917605 rs9920281 rs9943694 rs9956753
];
my %SNPid;
$SNPid{$_}++ for (@SNPids);

my %SnpDat;
while(<>) {
	chomp;
	my ($rsID,$depth,$qual,$TGT) = split /\s+/;
	next if $rsID !~ '^rs';
	#print join("\t",$rsID,$depth,$qual,$TGT),"\n";
	if ($depth <= $minDepth or $qual <= $minQual) {
		$TGT = '_NA_';
	}
	#print "SNP\t$rsID: $TGT\n";
	$SnpDat{$rsID} = $TGT;
}
#ddx \%StrDat;
for my $rsID (sort keys %SNPid) {
	if (exists $SnpDat{$rsID}) {
		print "SNP\t$rsID: $SnpDat{$rsID}\n";
	} else {
		print "SNP\t$rsID: Unknown\n";
	}
}
